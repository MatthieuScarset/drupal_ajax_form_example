# DEFINE DEV SPECIFIC VARIABLES AND JBS
include:
  - local: /ci/.cloud.gitlab-ci.yml
    rules:
      - if: $CI_COMMIT_BRANCH == "dev" || $CI_COMMIT_BRANCH == "integration" || $CI_COMMIT_BRANCH == "commerce/main" || $CI_COMMIT_BRANCH == "commerce/dev"
  - local: /ci/.fe.gitlab-ci.yml
    rules:
      - if: $CI_COMMIT_TAG


stages:
  - test

test:
  stage: test
  script:
    - echo "CI_PIPELINE_ID=$CI_PIPELINE_ID" >> .ci-data
    - echo "CI_PIPELINE_URL=$CI_PIPELINE_URL" >> .ci-data
    - echo "CI_COMMIT_TIMESTAMP=$CI_COMMIT_TIMESTAMP" >> .ci-data
    - echo "CI_COMMIT_MESSAGE=$CI_COMMIT_MESSAGE" >> .ci-data
  after_script:
    - cat .ci-data


# Hack to get a "visible job" if none of the files is included
dummy_job:
  stage: .pre
  rules:
    - when: never
  script:
    - echo 'This job should not run'

