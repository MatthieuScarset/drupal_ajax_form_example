(()=>{"use strict";const t=t=>void 0===t||"auto"===t||"instant"===t||"smooth"===t;function e(t,e){this.scrollLeft=t,this.scrollTop=e}const r=(t,e,r="cannot convert to dictionary.")=>`Failed to execute '${t}' on '${e}': ${r}`,i=(t,e,i)=>r(t,e,`The provided value '${i}' is not a valid enum value of type ScrollBehavior.`),o=(t,e,r)=>{var i;const o=`__SEAMLESS.BACKUP$${e}`;return t[o]||!t[e]||(null===(i=t[e])||void 0===i?void 0:i.__isPolyfill)||(t[o]=t[e]),t[o]||r},s=t=>{const e=typeof t;return null!==t&&("object"===e||"function"===e)},n=(t,e)=>{var r;r=e,Object.defineProperty(r,"__isPolyfill",{value:!0}),[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach((r=>{o(r,t),r[t]=e}))},l=t=>t.ownerDocument.scrollingElement||t.ownerDocument.documentElement,c=t=>.5*(1-Math.cos(Math.PI*t));function a(){var t;let e;return e=(null===(t=window.performance)||void 0===t?void 0:t.now)?()=>window.performance.now():()=>window.Date.now(),a=e,e()}const d=t=>{const e=(a()-t.timeStamp)/(t.duration||500);if(e>1)return t.method(t.targetX,t.targetY),void t.callback();const r=(t.timingFunc||c)(e),i=t.startX+(t.targetX-t.startX)*r,o=t.startY+(t.targetY-t.startY)*r;t.method(i,o),t.rafId=window.requestAnimationFrame((()=>{d(t)}))},h=t=>isFinite(t)?Number(t):0,u=n=>(c,u,m)=>{const[$,f]=(w=c).window===w?[l(c.document.documentElement),"Window"]:[c,"Element"];var w;const v=null!=u?u:{};if(!s(v))throw new TypeError(r(n,f));if(!t(v.behavior))throw new TypeError(i(n,f,v.behavior));"scrollBy"===n&&(v.left=h(v.left)+$.scrollLeft,v.top=h(v.top)+$.scrollTop),((t,r,i)=>{var s,n;if(!(t=>{var e;return null!==(e=t.isConnected)&&void 0!==e?e:!(t.ownerDocument&&1&t.ownerDocument.compareDocumentPosition(t))})(t))return;const l=t.scrollLeft,c=t.scrollTop,u=h(null!==(s=r.left)&&void 0!==s?s:l),m=h(null!==(n=r.top)&&void 0!==n?n:c);if(u===l&&m===c)return;const $=o(HTMLElement.prototype,"scroll",e),f=o(Object.getPrototypeOf(t),"scroll",$).bind(t);if("smooth"!==r.behavior)return void f(u,m);const w=()=>{window.removeEventListener("wheel",p),window.removeEventListener("touchmove",p)},v=Object.assign(Object.assign({},i),{timeStamp:a(),startX:l,startY:c,targetX:u,targetY:m,rafId:0,method:f,callback:w}),p=()=>{window.cancelAnimationFrame(v.rafId),w()};window.addEventListener("wheel",p,{passive:!0,once:!0}),window.addEventListener("touchmove",p,{passive:!0,once:!0}),d(v)})($,v,m)},m=u("scroll"),f=m,w=t=>{switch(t){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},v=(t,e,r,i)=>{let o=0;switch(e||(o^=2),t){case 0:o=o>>1|(1&o)<<1,[r,i]=[i,r];break;case 1:case 3:o^=1;break;case 4:o^=2}return[o,r,i]},p=t=>1==(1&v(w(t.writingMode),"rtl"!==t.direction,void 0,void 0)[0]),g=(t,e,r,i,o,s,n)=>0!==t?t:o<e&&s>r||o>e&&s<r?null:o<=e&&n<=i||s>=r&&n>=i?2:s>r&&n<i||o<e&&n>i?3:null,L=t=>"visible"!==t&&"clip"!==t,b=(t,e)=>(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth)&&(L(e.overflowY)||L(e.overflowX)||t===l(t)),S=t=>{const e=t.parentNode,r=t.parentElement;if(null===r&&null!==e){if(11===e.nodeType)return e.host;if(9===e.nodeType)return(t=>{var e;try{return(null===(e=t.ownerDocument.defaultView)||void 0===e?void 0:e.frameElement)||null}catch(t){return null}})(t)}return r},y=(t,e,r)=>t<e?e:t>r?r:t,E=(t,e,r)=>{switch(t){case 1:return(e+r)/2;case 3:return r;case 2:case 0:return e}},x=(t,e)=>{var r,i,o;const s=null===(r=t.ownerDocument.defaultView)||void 0===r?void 0:r.visualViewport,[n,c,a,d]=t===l(t)?[0,0,null!==(i=null==s?void 0:s.width)&&void 0!==i?i:t.clientWidth,null!==(o=null==s?void 0:s.height)&&void 0!==o?o:t.clientHeight]:[e.left,e.top,t.clientWidth,t.clientHeight],h=n+t.clientLeft,u=c+t.clientTop;return[u,h+a,u+d,h]},T=(t,e)=>{const r=[];let i=t.ownerDocument,o=i.defaultView;if(!o)return r;const s=window.getComputedStyle(t),n="rtl"!==s.direction,l=w(s.writingMode||s.getPropertyValue("-webkit-writing-mode")||s.getPropertyValue("-ms-writing-mode")),[c,a]=((t,e,r)=>{const[i,o,s]=v(e,r,t.block||"start",t.inline||"nearest");return[o,s].map(((t,e)=>{switch(t){case"center":return 1;case"nearest":return 0;default:return"start"===t==!(i>>e&1)?2:3}}))})(e,l,n);let[d,h,u,m]=((t,e,r)=>{const{top:i,right:o,bottom:s,left:n}=e,l=(c=t.ownerDocument,["scroll-margin","scroll-snap-margin"].filter((t=>t in c.documentElement.style))[0]);var c;if(!l)return[i,o,s,n];const a=t=>{const e=r.getPropertyValue(`${l}-${t}`);return parseInt(e,10)||0};return[i-a("top"),o+a("right"),s+a("bottom"),n-a("left")]})(t,t.getBoundingClientRect(),s);for(let s=S(t);null!==s;s=S(s)){if(i!==s.ownerDocument){if(i=s.ownerDocument,o=i.defaultView,!o)break;const{left:t,top:e}=s.getBoundingClientRect();d+=e,h+=t,u+=e,m+=t}const t=o.getComputedStyle(s);if("fixed"===t.position)break;if(!b(s,t))continue;const n=s.getBoundingClientRect(),[l,$,f,w]=x(s,n),v=g(c,w,$,s.clientWidth,m,h,h-m),L=g(a,l,f,s.clientHeight,d,u,u-d),S=null===v?0:E(v,m,h)-E(v,w,$),T=null===L?0:E(L,d,u)-E(L,l,f),_=p(t)?y(S,-s.scrollWidth+s.clientWidth-s.scrollLeft,-s.scrollLeft):y(S,-s.scrollLeft,s.scrollWidth-s.clientWidth-s.scrollLeft),I=y(T,-s.scrollTop,s.scrollHeight-s.clientHeight-s.scrollTop);r.push([s,{left:s.scrollLeft+_,top:s.scrollTop+I,behavior:e.behavior}]),d=Math.max(d-I,l),h=Math.min(h-_,$),u=Math.min(u-I,f),m=Math.max(m-_,w)}return r},_=(e,r,o)=>{const s=r||{};if(!t(s.behavior))throw new TypeError(i("scrollIntoView","Element",s.behavior));T(e,s).forEach((([t,e])=>{f(t,e,o)}))};function I(t){_(this,{block:null==t||t?"start":"end",inline:"nearest"})}const q=t=>{if("scrollBehavior"in window.document.documentElement.style)return;const e=o(window.HTMLElement.prototype,"scrollIntoView",I);n("scrollIntoView",(function(){const r=arguments,i=r[0];1===r.length&&s(i)?_(this,i,t):e.apply(this,r)}))};class A{constructor(t){q(),this.$root=t,this.$container=this.$root.querySelector(".slider-container"),this.$container&&(this.$containerChildrens=this.$container.children,this.$root.querySelectorAll(".slider-controller > [data-direction]").forEach((t=>{t.addEventListener("click",(()=>{this._slide(t.dataset.direction)}))})))}_slide(t){const e=this._getFirstHidden(t);void 0!==e&&(e.classList.contains("item-detail-offre")?(this.$width=e.getBoundingClientRect().width,"left"===t?$(this.$container).animate({scrollLeft:"-="+this.$width},800):$(this.$container).animate({scrollLeft:"+="+this.$width},800)):e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))}_getFirstHidden(t){let e;return("left"===t?Array.from(this.$containerChildrens).slice():Array.from(this.$containerChildrens).slice().reverse()).forEach((r=>{const i=r.getBoundingClientRect(),o=(i.left+i.right)/2,s="left"===t?this.$container.getBoundingClientRect().left:this.$container.getBoundingClientRect().right;("left"===t&&(i.left<s-10||o<s)||"right"===t&&(o>s||Math.trunc(i.right)>s))&&(e=r)})),e}}document.addEventListener("DOMContentLoaded",(()=>{Array.from(document.querySelectorAll(".custom-slider")).forEach((t=>{new A(t)}))})),window.OabCustomSlider=A;class V{constructor(t){this.$root=t,this.$current=0,this.$steps=this.$root.querySelectorAll(".step"),this.$delay=this.$root.dataset.delay?1e3*this.$root.dataset.delay:1e3,void 0!==this.$root.dataset.startAtLaunch?this._start():window.addEventListener("scroll",(()=>{this._startIfVisible()}))}_start(){this.$current=0,this._nextStep(),this.$intervalId=setInterval((()=>{this._nextStep()}),this.$delay)}_startIfVisible(){this._checkIfVisible()&&!this.$intervalId&&this._start()}_checkIfVisible(){var t=this.$steps[0].getBoundingClientRect(),e=t.top,r=t.bottom;return e<window.innerHeight&&r>=0}_nextStep(){this.$current++,this.$width=($(this.$root).width()+$(this.$root.children).width())/2,this.$root.querySelectorAll(".step.active").forEach((t=>{t.classList.remove("active"),t.classList.add("done"),window.matchMedia("(max-width: 736px)").matches&&$(this.$root).animate({scrollLeft:"+="+this.$width},800)})),this.$steps[this.$current-1]?this.$steps[this.$current-1].classList.add("active"):(clearInterval(this.$intervalId),window.matchMedia("(max-width: 736px)").matches&&$(this.$root).animate({scrollLeft:0},800))}}document.addEventListener("DOMContentLoaded",(()=>{Array.from(document.querySelectorAll(".step-slider")).forEach((t=>{new V(t)}))})),window.StepSlider=V;class C{constructor(t){this.$root=t,this.$offres=this.$root.querySelectorAll(".detail-offre-item"),this.$root.querySelectorAll("button.see-more").forEach((t=>{t.addEventListener("click",this._toggleItems)}))}_toggleItems=t=>{if(window.matchMedia("(max-width: 767px)").matches){const e=t.currentTarget.closest(".detail-offre-item").classList.contains("item-open");this.$offres.forEach((t=>{t.classList.remove("item-open"),t.classList.add("item-close"),t.querySelector("button.see-more").classList.remove("up"),t.querySelector("button.see-more").classList.add("down"),t.querySelector("button.see-more .text-voir-detail").classList.remove("d-none"),t.querySelector("button.see-more .text-masquer-detail").classList.add("d-none")})),e||(t.currentTarget.closest(".detail-offre-item").classList.toggle("item-close"),t.currentTarget.closest(".detail-offre-item").classList.toggle("item-open"),t.currentTarget.classList.toggle("up"),t.currentTarget.classList.toggle("down")),t.currentTarget.classList.contains("up")?(t.currentTarget.querySelector("button.see-more .text-voir-detail").classList.add("d-none"),t.currentTarget.querySelector("button.see-more .text-masquer-detail").classList.remove("d-none")):(t.currentTarget.querySelector("button.see-more .text-voir-detail").classList.remove("d-none"),t.currentTarget.querySelector("button.see-more .text-masquer-detail").classList.add("d-none"))}else this.$offres.forEach((t=>{t.classList.toggle("item-open"),t.classList.toggle("item-close"),t.querySelector("button.see-more").classList.toggle("up"),t.querySelector("button.see-more").classList.toggle("down"),$(t.querySelector("button.see-more")).hasClass("up")?(t.querySelector("button.see-more .text-voir-moins").classList.remove("d-none"),t.querySelector("button.see-more .text-voir-tout").classList.add("d-none")):(t.querySelector("button.see-more .text-voir-moins").classList.add("d-none"),t.querySelector("button.see-more .text-voir-tout").classList.remove("d-none"))}))}}document.addEventListener("DOMContentLoaded",(()=>{Array.from(document.querySelectorAll(".items-module-detail-offre")).forEach((t=>{new C(t)}))})),window.OabDetailOffre=C;const M=class{constructor(t,e){this.$root=t,this.$parent=e;"scroll-mobile"in new Proxy(new URLSearchParams(window.location.search),{get:(t,e)=>t.get(e),has:(t,e)=>t.has(e)})?(this.$root.classList.add("scroll-mobile"),this.$root.addEventListener("scroll",(t=>{this._onScroll(t)}))):this.$root.addEventListener("touchstart",(t=>{this._onTouchStart(t)}))}_onTouchStart(t){1===t.changedTouches.length&&(this.$touchStart=t.changedTouches[0],this.$root.addEventListener("touchend",(t=>{if(void 0!==this.$touchStart&&t.changedTouches.length){const e=t.changedTouches[0],r=e.clientX-this.$touchStart.clientX,i=e.clientY-this.$touchStart.clientY;Math.abs(r)>Math.abs(i)&&(r>0?this.$parent.previousExample():this.$parent.nextExample()),delete this.$touchStart}}),{once:!0}))}_onScroll(t){this.$parent.isSliderAnimating||this.$parent.currentSliderPositionX===this.$root.scrollLeft||(console.log([t,this.$parent.currentSliderPositionX,this.$root.scrollLeft]),this.$parent.currentSliderPositionX<this.$root.scrollLeft?this.$parent.nextExample():this.$parent.previousExample())}};class k{constructor(t){this.$root=t,this.$current=1,this.$exampleTitles=this.$root.querySelectorAll(".example-titles a"),this.$contentSlider=this.$root.querySelector(".example-content"),this.$delay=this.$root.dataset.delay?1e3*this.$root.dataset.delay:1e3,this.$exampleTitles.forEach((t=>{t.addEventListener("click",(t=>{this._onClick(t)}))})),this.$isSliderAnimating=!1,window.addEventListener("resize",(()=>{this._scrollToSlide(this.$current),window.matchMedia("(min-width: 736px)").matches?this.$exampleTitles[this.$current].classList.remove("col-6"):this.$exampleTitles[this.$current].classList.add("col-6")})),void 0!==this.$root.dataset.startAtLaunch?this._start():window.addEventListener("scroll",this.$startIfVisibleReference=this._startIfVisible.bind(this)),this.$mobileSlider=new M(this.$contentSlider,this)}get isSliderAnimating(){return this.$isSliderAnimating}get currentSliderPositionX(){return this.$currentSliderPositionX??0}get current(){return this.$current}set current(t){this.$isSliderAnimating||(this.$current=this._mod(t,this.$exampleTitles.length??1),this._scrollToSlide(this.$current),window.matchMedia("(max-width: 736px)").matches&&this.$exampleTitles[this.$current].classList.add("col-6"),this.$exampleTitles[this.$current].querySelector(".ob1-progress-bar-determined").classList.remove("d-none"),this.$exampleTitles[this.$current].classList.add("active"),this.$exampleTitles.forEach(((t,e)=>{e!==this.$current&&(t.classList.remove("active"),t.classList.remove("col-6"),t.querySelector(".ob1-progress-bar-determined").classList.add("d-none"))})),clearInterval(this.$intervalId),this.$intervalId=setInterval((()=>{this.nextExample()}),this.$delay))}nextExample(){this.current++}previousExample(){this.current--}_onClick(t){t.currentTarget.classList.contains("active")||(this.$exampleTitles.forEach((t=>{t.classList.remove("active")})),t.currentTarget.classList.add("active"),this.current=parseInt(t.currentTarget.dataset.index))}_start(){this.current=0}_startIfVisible(){this._checkIfVisible()&&!this.$intervalId&&(this._start(),void 0!==this.$startIfVisibleReference&&(window.removeEventListener("scroll",this.$startIfVisibleReference),delete this.$startIfVisibleReference))}_checkIfVisible(){const t=this.$exampleTitles[0];if(t){var e=t.getBoundingClientRect(),r=e.top,i=e.bottom;return r<window.innerHeight&&i>=0}}_scrollToSlide(t){const e=$(this.$contentSlider).width();this.$isSliderAnimating||(this.$isSliderAnimating=!0,$(this.$contentSlider).animate({scrollLeft:e*t},{duration:800,done:()=>{this.$currentSliderPositionX=e*t,this.$isSliderAnimating=!1}}))}_mod(t,e){return(t%e+e)%e}}document.addEventListener("DOMContentLoaded",(()=>{Array.from(document.querySelectorAll(".example-items")).forEach((t=>{new k(t)}))})),window.OabExempleSlider=k})();