services:
  event_subscriber:
    class: Drupal\oab_frontoffice\EventSubscriber\NodeSourcePathEvent
    tags:
      - { name: event_subscriber }
  oab_frontoffice.breadcrumb:
    class: Drupal\oab_frontoffice\Breadcrumb\OabFrontofficBreadcrumbBuilder
    tags:
      - { name: breadcrumb_builder, priority: 100 }
  oab_frontoffice_product.breadcrumb:
    class: Drupal\oab_frontoffice\Breadcrumb\ProductBreadcrumbBuilder
    arguments: ['@entity_type.manager']
    tags:
      - { name: breadcrumb_builder, priority: 101 }
  oab_frontoffice.twig.OabExtension:
      class: Drupal\oab_frontoffice\Twig\OabExtension
      arguments: ['@module_handler', '@file_url_generator', '@file_system', '@request_stack']
      tags:
        - { name: twig.extension }
  oab_frontoffice.smart_redirection:
      class: Drupal\oab_frontoffice\EventSubscriber\SmartRedirectionEvent
      tags:
         - { name: event_subscriber, priority: 100 }
  oab_frontoffice.json_exception_rewriting:
      class: Drupal\oab_frontoffice\EventSubscriber\JsonExceptionRewriting
      arguments: ['@current_route_match']
      tags:
         - { name: event_subscriber, priority: 101 }
  cache.twitter_api:
      class: Drupal\Core\Cache\CacheBackendInterface
      tags:
          - { name: cache.bin }
      factory: cache_factory:get
      arguments: [twitter_api]
#  oab_frontoffice.event_subscriber:
#      class: Drupal\oab_frontoffice\EventSubscriber\SubhomeUrlAlterEvent
#      tags:
#        - { name: event_subscriber }
  plugin.manager.viewsaccess:
    class: Drupal\oab_frontoffice\Plugin\views\access\PageCategoryViewsAccessPlugin
    parent: default_plugin_manager
  oab_frontoffice.embed_video_url:
    class: Drupal\oab_frontoffice\Services\OabEmbedVideoUrlService

  generator :
    class : Drupal\oab_frontoffice\Services\NodeCallback
