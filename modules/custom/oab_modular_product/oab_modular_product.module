<?php

use Drupal\Core\Form\FormStateInterface;

/**
 * Implements hook_field_widget_form_alter().
 */
function oab_modular_product_field_widget_form_alter(&$element, FormStateInterface $form_state, $context) {
  if ($element['#paragraph_type'] == 'module_benefits') {
      $element['subform']['field_title']['widget'][0]['value']['#maxlength'] = 65;
      $element['subform']['field_title']['widget'][0]['value']['#size'] = 75;
      $element['subform']['field_highlight']['widget'][0]['value']['#maxlength'] = 150;
      $element['subform']['field_highlight']['widget'][0]['value']['#rows'] = 2;

  }

  if ($element['#paragraph_type'] == 'module_partner') {
    $element['subform']['field_title']['widget'][0]['value']['#maxlength'] = 65;
    $element['subform']['field_highlight']['widget'][0]['value']['#maxlength'] = 150;

  }

  if ($element['#paragraph_type'] == 'module_benefits_item') {
    $element['subform']["field_icon"][0]['token_tree'] = [
      '#theme' => 'token_tree_link',
      '#token_types' => ['icomoon'],
      '#weight' => 90,
      '#global_types' => FALSE,
      '#click_insert' => TRUE,
    ];
    $element['subform']['field_title']['widget'][0]['value']['#maxlength'] = 70;
    $element['subform']['field_title']['widget'][0]['value']['#size'] = 80;
    $element['subform']['field_description']['widget'][0]['value']['#maxlength'] = 130;
    $element['subform']['field_description']['widget'][0]['value']['#size'] = 140;

  }
}
